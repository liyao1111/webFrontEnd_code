<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div><span>点击抽奖</span>
        <button id="btn">click</button>
    </div>
    <script>
        let btn  = document.querySelector('#btn')
        btn.onclick = () => {
            // promise 形式实现
            // reslove 解决  reject 拒绝
            const p =  new Promise((resolve,reject) => { 
                setTimeout(() => {
                    let n = Math.random(1,100)*100;
                    if(n<=30){
                       resolve(n);
                    }
                    else{
                        reject(n);
                    }

                }, 1000);
             });
             // 通过then调用成功resolve和失败reject的方法
             p.then(
                 (value) => { alert('suc'+value) },
                 (value) => { alert('fail'+value) }
             )
             }
    </script>
    
</body>
</html>